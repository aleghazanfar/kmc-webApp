@model KMCAA.ViewModels.MemberVM



<div class="container-fluid px-1 py-5">
    <div class="card bg-white" style="margin-top:-30px;">
        <form method="post" enctype="multipart/form-data" asp-action="AddorEdit">
            <div class="card-body">
                <input id="misId" hidden asp-for="Id" />
                <div class="loaderbody" id="loaderbody">
                    <div class="loader"></div>
                </div>
                <figure class="text-center">
                    <h1 class="display-4" style="color:darkred">Khyber Medical College Alumnai Association</h1>
                </figure>
                <div class="row">
                    <div class="col-sm-3">
                        <figure class="figure d-flex justify-content-center align-items-center">
                            <img src="~/Content/KMCLogo.png" class="figure-img img-fluid img-thumbnail rounded " height="150" width="150">
                        </figure>
                    </div>
                    <div class="col-sm-6 d-flex justify-content-center align-items-center">
                        <span class="h3"><em><strong>Application for Membership</strong></em></span>
                    </div>
                    <div class="col-sm-3">
                        <figure class="figure d-flex justify-content-center align-items-center">
                            <img src="~/@Model.ImageUrl" alt="" class="figure-img img-fluid img-thumbnail rounded" height="150" width="150">
                        </figure>
                            <input type="file" name="file" asp-for="ImageUrl" aria-required="true" aria-invalid="false" class="w-100 inf-input mt-2">
                    </div>

                </div>
                <hr />

                <p class="h4" style="color:darkred">Basic Information</p>
                <div>
                    <div class="row">
                        <div class="col-sm-4">
                            <div class="form-group">
                                <label>Membership Type</label>
                                <select id="PickUpLocation" class="form-control required" asp-for="MembershipTypeId"></select>
                                <span class="form-text text-danger" asp-validation-for="MembershipTypeId"></span>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label>Member Resides In?</label>
                                <select class="form-control required" id="selectMemberReside" asp-for="MemberResideInId">
                                </select>
                                <span class="form-text text-danger" asp-validation-for="MemberResideInId"></span>

                            </div>
                        </div>
                    </div>


                    <div class="row ">
                        <div class="col-sm-4">
                            <div class="form-group">
                                <label>Full Name</label>
                                <input type="text" asp-for="FullName" class="form-control" />
                                <div class="valid-feedback">Valid.</div>
                                <div class="invalid-feedback">Please fill out this field.</div>
                                <span class="form-text text-danger" asp-validation-for="FullName"></span>
                            </div>
                        </div>

                        <div class="col-sm-4">
                            <div class="form-group">
                                <label>Graduation From</label>
                                <input type="text" asp-for="GraduationFrom" class="form-control" />
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="form-group">
                                <label>Graduation Year</label>
                                <input type="text" asp-for="YearOfGraduation" class="form-control" />
                            </div>
                        </div>
                    </div>
                    <div class="row ">
                        <div class="col-sm-4">
                            <div class="form-group">
                                <label>Gender</label>
                                <select asp-for="Gender" class="form-control" asp-for="Gender">
                                    <option value="">--Select Gender--</option>
                                    <option value="Male">Male</option>
                                    <option value="Female">Female</option>

                                </select>
                                <span class="form-text text-danger" asp-validation-for="Gender"></span>

                            </div>
                        </div>

                        <div class="col-sm-4">
                            <div class="form-group">
                                <label>Present Workplace</label>
                                <input type="text" asp-for="PresendWorkPlance" class="form-control" />
                                <span class="form-text text-danger" asp-validation-for="PresendWorkPlance"></span>

                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="form-group">
                                <label>Email Address</label>
                                <input type="text" asp-for="Email" class="form-control" />
                                <span class="form-text text-danger" asp-validation-for="Email"></span>

                            </div>
                        </div>
                    </div>
                </div>

                <hr />
                <p class="h4" style="color:darkred">Contact Information</p>
                <div>

                    <div class="row ">


                        <div class="col-sm-12">
                            <div class="form-group">
                                <label>Permanent Address</label>
                                <input type="text" asp-for="MailingAddress" class="form-control" />
                            </div>
                        </div>
                    </div>
                    <div class="row ">
                        <div class="col-sm-12">
                            <div class="form-group">
                                <label>Mailing Address</label>
                                <input type="text" asp-for="PermanentAddress" class="form-control" />
                            </div>
                        </div>
                    </div>
                    <div class="row ">

                        <div class="col-sm-4">
                            <div class="form-group">
                                <label>Telephone Office</label>
                                <input type="text" asp-for="OfficeNumber" class="form-control" />
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="form-group">
                                <label>Telephone Clinic</label>
                                <input type="text" asp-for="ClinicNumber" class="form-control" />
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="form-group">
                                <label>Telephone Mobile</label>
                                <input type="text" asp-for="MobileNumber" class="form-control" />
                            </div>
                        </div>
                    </div>

                </div>
                <hr />



            </div>
            <div class="card-footer">
                <div class="row">
                    <div class="col-md-6">
                    </div>
                    <div class="col-md-6">
                        <button type="submit" class="btn btn-info btn-block">submit</button>
                    </div>
                </div>

            </div>
        </form>
    </div>
</div>

@section Scripts{
    <script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
    <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>
    <script>
        //$(window).on('load', function() {

        $(document).ready(function() {
            var id = $("#misId").val()
            debugger

            $.ajax({
                type: "GET",
                url: "/Membership/MembershipTypes",
                data: "{}",
                success: function(data) {
                    console.log(data)
                    var s = '<option value="">Select Membership Type</option>';
                    for (var i = 0; i < data.length; i++) {
                        s += '<option value="' + data[i].id + '">' + data[i].name + '</option>';
                    }
                    $("#PickUpLocation").html(s);
                }
            });

            $.ajax({
                type: "GET",
                url: "/Membership/MemberResideIn",
                data: "{}",
                success: function(data) {
                    console.log(data)
                    var s = '<option value="">Select Member ResideIn</option>';
                    for (var i = 0; i < data.length; i++) {
                        //console.log(data[i])
                        s += '<option value="' + data[i].id + '">' + data[i].name + '</option>';
                    }
                    $("#selectMemberReside").html(s);
                }
            });


        });


    </script>
}

